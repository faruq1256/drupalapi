{"version":3,"sources":["Menu.jsx","Home.jsx","api/Http.jsx","CreateNode.jsx","auth/auth.jsx","Login.jsx","Logout.jsx","Node.jsx","ListNodes.jsx","Footer.jsx","PrivateRoute.jsx","App.js","index.js"],"names":["Menu","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","exact","Home","Http","axios","create","baseURL","headers","localStorage","getItem","interceptors","request","use","config","token","csrfToken","console","log","Authorization","response","CreateNode","props","useState","title","body","node","setNode","spinner","setSpinner","InputEvent","event","target","name","value","preValue","onSubmit","preventDefault","a","data","_links","href","target_id","post","then","res","history","push","catch","err","addNode","onChange","aria-describedby","placeholder","rows","defaultValue","onClick","role","AuthContext","createContext","useAuth","useContext","Login","isLoggedIn","setLoggedIn","setAuthTokens","pass","user","setUser","basicAuthCredential","window","btoa","setItem","csrf_token","getLogin","Logout","logoutToken","emptyStorage","removeItem","logoutApi","Node","author","ListNodes","nodes","setNodes","get","useEffect","getNodes","map","index","uid","Footer","PrivateRoute","Component","component","rest","authTokens","render","App","existingTokens","Provider","path","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.8c7586d4.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n\nconst Menu = () => {\n  return (\n    <>\n      <div className=\"container-fluid nav_bg\">\n        <div className=\"row\">\n          <div className=\"col-10 max-auto max_auto\">\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n              <NavLink to=\"/\" className='navbar-brand'>Drupal API</NavLink>\n              <button\n                className=\"navbar-toggler\"\n                type=\"button\"\n                data-toggle=\"collapse\"\n                data-target=\"#navbarSupportedContent\"\n                aria-controls=\"navbarSupportedContent\"\n                aria-expanded=\"false\"\n                aria-label=\"Toggle navigation\"\n              >\n                <span className=\"navbar-toggler-icon\"></span>\n              </button>\n\n              <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                <ul className=\"navbar-nav ml-auto\">\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/\">\n                      Home\n                    </NavLink>\n                  </li>\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/node/add\">\n                      Create Node\n                    </NavLink>\n                  </li>\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/node/list\">\n                      List Nodes\n                    </NavLink>\n                  </li>\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/login\">\n                      Login\n                    </NavLink>\n                  </li>\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/logout\">\n                      Logout\n                    </NavLink>\n                  </li>\n\n                </ul>\n              </div>\n            </nav>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\n\nconst Home = () => {\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">Home Page</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n\n            </div>\n            </div>\n            </div>\n            </div>\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\n\nconst Http = axios.create({\n  baseURL: \"https://janari.in/drupal\",\n  headers : {\n    'Content-Type' : 'application/hal+json',\n    'Accept':'application/json',\n    'X-CSRF-Token': localStorage.getItem('csrf')\n  }\n});\n\n\nHttp.interceptors.request.use((config) =>{\n  let token = localStorage.getItem('token');\n  let csrfToken = localStorage.getItem('csrf');\n  \n  if(token){\n    console.log(\"Interceptors...\" + token);\n    config.headers.Authorization = `Basic ${token}`;\n    // config.withCredentials = true; \n    config.headers['X-CSRF-Token'] = csrfToken;\n  }\n  return config;\n});\n\n\nHttp.interceptors.response.use((config) =>{\n  // console.log(\"Config Response\" + JSON.stringify(config));\n//   if(config.status == 403){\n//     props.history.push('/login');\n//  }\n  return config\n});\n\n// const formatBasicAuth = (props) => {\n//   return basicAuthCredential = window.btoa(props.name + \":\" + props.pass);\n// }\n\n\nexport default Http;\n","import React, { useState } from \"react\";\nimport Http from './api/Http';\n\nconst CreateNode = (props) => {\n  const [node, setNode] = useState({\n    title: \"\",\n    body: \"\",\n  });\n\n  const [spinner, setSpinner] = useState(false);\n\n  const InputEvent = (event) => {\n\n    let { name, value } = event.target;\n    setNode((preValue) => {\n      return {\n        ...preValue,\n        [name]: value,\n      };\n    });\n  };\n\n\n  const buttonEvent = () => {\n    setSpinner(true);\n  }\n\n  const submitEvent = (event) => {\n    event.preventDefault();\n    const { title, body } = node;\n\n    async function addNode() {\n      const data = {\n        _links: {\n          type: {\n            href: `http://janari.in/drupal/rest/type/node/article`,\n          },\n        },\n        title: [\n          {\n            value: title,\n          },\n        ],\n        type: [\n          {\n            target_id: \"article\",\n          },\n        ],\n        body: [{ value: body }],\n      };\n      const res = await Http.post(`/entity/node?_format=hal_json`, data)\n        .then((res) => {\n          setSpinner(false);\n          props.history.push('/node/list');\n        })\n        .catch((err) => {\n          console.log(\"AXIOS ERROR: \", err);\n        });\n    }\n    addNode();\n  };\n\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">Create Node</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n              <form onSubmit={submitEvent}>\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"title\"\n                    value={node.title}\n                    onChange={InputEvent}\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter Title\"\n                  />\n                  </div>\n                <div className=\"form-group\">\n                  <label>Body</label>\n                  <textarea\n                    name=\"body\"\n                    className=\"form-control\"\n                    onChange={InputEvent}\n                    rows=\"5\"\n                    defaultValue={node.body}\n                    placeholder=\"Enter Message\"\n                  ></textarea>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={buttonEvent}>\n                  Create\n                </button>\n                { (spinner) ? <div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Loading...</span></div> : ''\n                  \n                }\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CreateNode;\n","import { createContext, useContext } from 'react';\n\nexport const AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}","import React, { useState } from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport Http from './api/Http';\nimport { useAuth } from \"./auth/auth\";\n\n\nconst Login = (props) => {\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const { setAuthTokens } = useAuth();\n  const [user, setUser] = useState({\n      name: '',\n      pass: ''\n  });\n\n  const InputEvent = (event) => {\n      let name = event.target.name;\n      let value = event.target.value;\n      setUser(\n          (preValue) => {\n             return {\n                ...preValue,\n                [name]: value\n             }\n\n          }\n      );\n  }\n  const submitEvent = (event) => {\n    event.preventDefault();\n    console.log(user);\n    const {name, pass} = user;\n\n    async function getLogin() {\n      \n        const data = {'name':name, 'pass':pass}\n        const res = await Http.post(`/user/login?_format=json`, data)\n    .then((res) => {\n \n      console.log(\"RESPONSE RECEIVED: \", res.data);\n      const basicAuthCredential = window.btoa(name + \":\" + pass);\n      localStorage.setItem(\"token\", basicAuthCredential);\n      localStorage.setItem(\"csrf\", res.data.csrf_token); \n      setAuthTokens(res.data); \n      setLoggedIn(true);\n      // props.history.push('/node/add');\n     })\n    .catch((err) => {\n      console.log(\"AXIOS ERROR: \", err);\n    });\n\n    }\n\n    return getLogin();\n    \n  };\n\n  if (isLoggedIn) {\n    return <Redirect to=\"/node/add\" />;\n  }\n\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">Login Page</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n              <form onSubmit={submitEvent}>\n                <div className=\"form-group\">\n                  <label >User Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"name\"\n                    value={user.name}\n                    onChange={InputEvent}\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter username\"\n                  />\n                  <small id=\"emailHelp\" className=\"form-text text-muted\">\n                    We'll never share your email with anyone else.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input\n                    type=\"password\"\n                    name='pass'\n                    value={user.pass}\n                    onChange={InputEvent}\n                    className=\"form-control\"\n                    id=\"exampleInputPassword1\"\n                    placeholder=\"Password\"\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Submit\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Http from \"./api/Http\";\n\nconst Logout = (props) => {\n  let logoutToken = localStorage.getItem(\"logout_token\");\n\n  async function logoutApi() {\n    const res = await Http.post(\n      `/user/logout?_format=json&token=${logoutToken}`\n    )\n      .then((res) => {\n        console.log(\"RESPONSE RECEIVED: \", res.data);\n        emptyStorage();\n        props.history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(\"AXIOS ERROR: \", err);\n      });\n  }\n  if (logoutToken) {\n    logoutApi();\n  } else {\n    emptyStorage();\n    return <Redirect to=\"/\" />;\n  }\n\n  function emptyStorage() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"logout_token\");\n    localStorage.removeItem(\"csrf\");\n  }\n\n  return (\n    <>\n      <h1>Logout Page</h1>\n    </>\n  );\n};\n\nexport default Logout;\n","import React from \"react\";\n\nconst Node = (props) => {\n  console.log(props);\n  return (\n    <>\n    <div className=\"col-md-10 col-10 \">\n                <div className=\"row\">\n      \n        <a\n          href=\"#\"\n          className=\"list-group-item list-group-item-action flex-column align-items-start\">\n          <div className=\"d-flex w-100 justify-content-between\">\n            <h5 className=\"mb-1\">{props.title}</h5>\n            <small>By: {props.author}</small>\n          </div>\n          <p className=\"mb-1\">{props.body}</p>\n        </a>\n      \n      </div>\n      </div>\n      <br />\n    </>\n  );\n};\n\nexport default Node;\n","import React, { useState, useEffect } from \"react\";\nimport Http from \"./api/Http\";\nimport Node from \"./Node\";\n\nconst ListNodes = () => {\n  const [nodes, setNodes] = useState([]);\n\n  useEffect(() => {\n    getNodes();\n  }, []);\n\n  async function getNodes() {\n    const res = await Http.get(`/rest/list/nodes?_format=json`)\n      .then((res) => {\n        console.log(\"AXIOS RESPONSE: \", res.data);\n        setNodes(res.data);\n      })\n      .catch((err) => {\n        console.log(\"AXIOS ERROR: \", err);\n      });\n  }\n\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">List Nodes</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          {nodes.map((node, index) => {\n            return (\n              <Node\n                key={index}\n                title={node.title}\n                body={node.body}\n                author={node.uid}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ListNodes;\n","import React from 'react';\n\nconst Footer = () => {\n    return (\n        <>\n        <footer className=\"w-100 bg-light text-center\">\n            <p>@2020 Drupal API Example. All rights reservec</p>\n        </footer>\n        </>\n    );\n\n}\n\nexport default Footer;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from \"./auth/auth\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { authTokens } = useAuth();\n  \n  return(\n    <Route\n      {...rest}\n      render={props =>\n        authTokens ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;","import React, { useState } from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport Menu from './Menu';\nimport Home from './Home';\nimport CreateNode from './CreateNode';\nimport Login from './Login'\nimport Logout from './Logout'\nimport ListNodes from './ListNodes';\nimport Footer from './Footer';\nimport PrivateRoute from './PrivateRoute';\nimport { AuthContext } from \"./auth/auth\";\n\nconst App = (props) => {\n  const existingTokens = localStorage.getItem(\"token\");\n  const [authTokens, setAuthTokens] = useState(existingTokens);\n  \n  const setTokens = (data) => {\n    localStorage.setItem(\"tokens\", data);\n    setAuthTokens(data);\n  }\n\nreturn (\n  <>\n  <Menu />\n  <AuthContext.Provider value={{ authTokens, setAuthTokens: setTokens }}>\n  <Switch>\n  <Route exact path='/' component={Home} />\n  <Route exact path='/login' component={Login} />\n  <Route exact path='/logout' component={Logout} />\n  <PrivateRoute exact path='/node/add' component={CreateNode} />\n  <PrivateRoute exact path='/node/list' component={ListNodes} />\n  <Redirect to=\"/\" />\n  </Switch>\n  </AuthContext.Provider>\n  <Footer />\n  </>\n);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter basename=\"/drupalapi\">\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}