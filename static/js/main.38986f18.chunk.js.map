{"version":3,"sources":["Menu.jsx","Home.jsx","api/Http.jsx","CreateNode.jsx","auth/auth.jsx","Login.jsx","Logout.jsx","Node.jsx","ListNodes.jsx","Footer.jsx","PrivateRoute.jsx","Register.jsx","App.js","index.js"],"names":["Menu","props","authTokens","Atoken","console","log","className","to","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","exact","Home","Http","axios","create","baseURL","headers","localStorage","getItem","interceptors","request","use","config","token","csrfToken","Authorization","response","CreateNode","useState","title","body","node","setNode","spinner","setSpinner","InputEvent","event","target","name","value","preValue","onSubmit","preventDefault","a","data","_links","href","target_id","post","then","res","history","push","catch","err","addNode","onChange","aria-describedby","placeholder","rows","defaultValue","onClick","role","AuthContext","createContext","useAuth","useContext","Login","isLoggedIn","setLoggedIn","setAuthTokens","pass","user","setUser","basicAuthCredential","window","btoa","setItem","csrf_token","getLogin","Logout","logoutToken","emptyStorage","removeItem","logoutApi","Node","author","ListNodes","nodes","setNodes","get","useEffect","getNodes","map","index","uid","Footer","PrivateRoute","Component","component","rest","render","Register","mail","doRegister","App","existingTokens","Provider","path","ReactDOM","basename","document","getElementById"],"mappings":"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","file":"static/js/main.38986f18.chunk.js","sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport \"../node_modules/bootstrap/dist/css/bootstrap.min.css\";\n\nconst Menu = (props) => {\n  const authTokens = props.Atoken;\n  console.log(\"authTokens \" + authTokens);\n  return (\n    <>\n      <div className=\"container-fluid nav_bg\">\n        <div className=\"row\">\n          <div className=\"col-10 max-auto max_auto\">\n            <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\n              <NavLink to=\"/\" className='navbar-brand'>Drupal API</NavLink>\n              <button\n                className=\"navbar-toggler\"\n                type=\"button\"\n                data-toggle=\"collapse\"\n                data-target=\"#navbarSupportedContent\"\n                aria-controls=\"navbarSupportedContent\"\n                aria-expanded=\"false\"\n                aria-label=\"Toggle navigation\"\n              >\n                <span className=\"navbar-toggler-icon\"></span>\n              </button>\n\n              <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n                <ul className=\"navbar-nav ml-auto\">\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/\">\n                      Home\n                    </NavLink>\n                  </li>\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/node/add\">\n                      Create Node\n                    </NavLink>\n                  </li>\n                  <li className=\"nav-item\">\n                    <NavLink exact className=\"nav-link\" to=\"/node/list\">\n                      List Nodes\n                    </NavLink>\n                  </li>\n                  {\n                    (authTokens) ? \n                    <li className=\"nav-item\"><NavLink exact className=\"nav-link\" to=\"/logout\">Logout</NavLink></li>\n                    :\n                    <>\n                    <li className=\"nav-item\"><NavLink exact className=\"nav-link\" to=\"/login\">Login</NavLink></li>\n                    <li className=\"nav-item\"><NavLink exact className=\"nav-link\" to=\"/register\">Register</NavLink></li>\n                    </>\n                  } \n                </ul>\n              </div>\n            </nav>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Menu;\n","import React from \"react\";\n\nconst Home = () => {\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">Home Page</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n\n            </div>\n            </div>\n            </div>\n            </div>\n    </>\n  );\n};\n\nexport default Home;\n","import axios from 'axios';\n\n\nconst Http = axios.create({\n  baseURL: \"http://janari.in/drupal\",\n  headers : {\n    'Content-Type' : 'application/hal+json',\n    'Accept':'application/json',\n    'X-CSRF-Token': localStorage.getItem('csrf')\n  }\n});\n\n\nHttp.interceptors.request.use((config) =>{\n  let token = localStorage.getItem('token');\n  let csrfToken = localStorage.getItem('csrf');\n  \n  if(token){\n    console.log(\"Interceptors...\" + token);\n    config.headers.Authorization = `Basic ${token}`;\n    // config.withCredentials = true; \n    config.headers['X-CSRF-Token'] = csrfToken;\n  }\n  return config;\n});\n\n\nHttp.interceptors.response.use((config) =>{\n  // console.log(\"Config Response\" + JSON.stringify(config));\n//   if(config.status == 403){\n//     props.history.push('/login');\n//  }\n  return config\n});\n\n// const formatBasicAuth = (props) => {\n//   return basicAuthCredential = window.btoa(props.name + \":\" + props.pass);\n// }\n\n\nexport default Http;\n","import React, { useState } from \"react\";\nimport Http from './api/Http';\n\nconst CreateNode = (props) => {\n  const [node, setNode] = useState({\n    title: \"\",\n    body: \"\",\n  });\n\n  const [spinner, setSpinner] = useState(false);\n\n  const InputEvent = (event) => {\n\n    let { name, value } = event.target;\n    setNode((preValue) => {\n      return {\n        ...preValue,\n        [name]: value,\n      };\n    });\n  };\n\n\n  const buttonEvent = () => {\n    setSpinner(true);\n  }\n\n  const submitEvent = (event) => {\n    event.preventDefault();\n    const { title, body } = node;\n\n    async function addNode() {\n      const data = {\n        _links: {\n          type: {\n            href: `http://janari.in/drupal/rest/type/node/article`,\n          },\n        },\n        title: [\n          {\n            value: title,\n          },\n        ],\n        type: [\n          {\n            target_id: \"article\",\n          },\n        ],\n        body: [{ value: body }],\n      };\n      const res = await Http.post(`/entity/node?_format=hal_json`, data)\n        .then((res) => {\n          setSpinner(false);\n          props.history.push('/node/list');\n        })\n        .catch((err) => {\n          console.log(\"AXIOS ERROR: \", err);\n        });\n    }\n    addNode();\n  };\n\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">Create Node</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n              <form onSubmit={submitEvent}>\n                <div className=\"form-group\">\n                  <label>Title</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"title\"\n                    value={node.title}\n                    onChange={InputEvent}\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter Title\"\n                  />\n                  </div>\n                <div className=\"form-group\">\n                  <label>Body</label>\n                  <textarea\n                    name=\"body\"\n                    className=\"form-control\"\n                    onChange={InputEvent}\n                    rows=\"5\"\n                    defaultValue={node.body}\n                    placeholder=\"Enter Message\"\n                  ></textarea>\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\" onClick={buttonEvent}>\n                  Create\n                </button>\n                { (spinner) ? <div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Loading...</span></div> : ''\n                  \n                }\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default CreateNode;\n","import { createContext, useContext } from 'react';\n\nexport const AuthContext = createContext();\n\nexport function useAuth() {\n  return useContext(AuthContext);\n}","import React, { useState } from \"react\";\nimport {Redirect} from 'react-router-dom';\nimport Http from './api/Http';\nimport { useAuth } from \"./auth/auth\";\n\n\nconst Login = (props) => {\n  const [isLoggedIn, setLoggedIn] = useState(false);\n  const { setAuthTokens } = useAuth();\n  const [user, setUser] = useState({\n      name: '',\n      pass: ''\n  });\n  const [spinner, setSpinner] = useState(false);\n\n  const InputEvent = (event) => {\n      let name = event.target.name;\n      let value = event.target.value;\n      setUser(\n          (preValue) => {\n             return {\n                ...preValue,\n                [name]: value\n             }\n\n          }\n      );\n  }\n  const submitEvent = (event) => {\n    event.preventDefault();\n    setSpinner(true);\n    console.log(user);\n    const {name, pass} = user;\n\n    async function getLogin() {\n      \n        const data = {'name':name, 'pass':pass}\n        const res = await Http.post(`/user/login?_format=json`, data)\n    .then((res) => {\n \n      console.log(\"RESPONSE RECEIVED: \", res.data);\n      const basicAuthCredential = window.btoa(name + \":\" + pass);\n      localStorage.setItem(\"token\", basicAuthCredential);\n      localStorage.setItem(\"csrf\", res.data.csrf_token); \n      setAuthTokens(res.data); \n      setLoggedIn(true);\n      // props.history.push('/node/add');\n     })\n    .catch((err) => {\n      console.log(\"AXIOS ERROR: \", err);\n    });\n\n    }\n\n    return getLogin();\n    \n  };\n\n  if (isLoggedIn) {\n    return <Redirect to=\"/node/add\" />;\n  }\n\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">Login Page</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n              <form onSubmit={submitEvent}>\n                <div className=\"form-group\">\n                  <label >User Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"name\"\n                    value={user.name}\n                    onChange={InputEvent}\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter username\"\n                  />\n                  <small id=\"emailHelp\" className=\"form-text text-muted\">\n                    We'll never share your email with anyone else.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input\n                    type=\"password\"\n                    name='pass'\n                    value={user.pass}\n                    onChange={InputEvent}\n                    className=\"form-control\"\n                    id=\"exampleInputPassword1\"\n                    placeholder=\"Password\"\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Submit\n                </button>\n                { (spinner) ? <div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Loading...</span></div> : ''\n                  \n                }\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\n\nimport Http from \"./api/Http\";\n\nconst Logout = (props) => {\n  let logoutToken = localStorage.getItem(\"logout_token\");\n\n  async function logoutApi() {\n    const res = await Http.post(\n      `/user/logout?_format=json&token=${logoutToken}`\n    )\n      .then((res) => {\n        console.log(\"RESPONSE RECEIVED: \", res.data);\n        emptyStorage();\n        props.history.push(\"/\");\n      })\n      .catch((err) => {\n        console.log(\"AXIOS ERROR: \", err);\n      });\n  }\n  if (logoutToken) {\n    logoutApi();\n  } else {\n    emptyStorage();\n    return <Redirect to=\"/\" />;\n  }\n\n  function emptyStorage() {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"logout_token\");\n    localStorage.removeItem(\"csrf\");\n  }\n\n  return (\n    <>\n      <h1>Logout Page</h1>\n    </>\n  );\n};\n\nexport default Logout;\n","import React from \"react\";\n\nconst Node = (props) => {\n  console.log(props);\n  return (\n    <>\n    <div className=\"col-md-10 col-10 \">\n                <div className=\"row\">\n      \n        <a\n          href=\"#\"\n          className=\"list-group-item list-group-item-action flex-column align-items-start\">\n          <div className=\"d-flex w-100 justify-content-between\">\n            <h5 className=\"mb-1\">{props.title}</h5>\n            <small>By: {props.author}</small>\n          </div>\n          <p className=\"mb-1\">{props.body}</p>\n        </a>\n      \n      </div>\n      </div>\n      <br />\n    </>\n  );\n};\n\nexport default Node;\n","import React, { useState, useEffect } from \"react\";\nimport Http from \"./api/Http\";\nimport Node from \"./Node\";\n\nconst ListNodes = () => {\n  const [nodes, setNodes] = useState([]);\n\n  useEffect(() => {\n    getNodes();\n  }, []);\n\n  async function getNodes() {\n    const res = await Http.get(`/rest/list/nodes?_format=json`)\n      .then((res) => {\n        console.log(\"AXIOS RESPONSE: \", res.data);\n        setNodes(res.data);\n      })\n      .catch((err) => {\n        console.log(\"AXIOS ERROR: \", err);\n      });\n  }\n\n  return (\n    <>\n      <div className=\"my-5\">\n        <h1 className=\"text-center\">List Nodes</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          {nodes.map((node, index) => {\n            return (\n              <Node\n                key={index}\n                title={node.title}\n                body={node.body}\n                author={node.uid}\n              />\n            );\n          })}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default ListNodes;\n","import React from 'react';\n\nconst Footer = () => {\n    return (\n        <>\n        <footer className=\"w-100 bg-light text-center\">\n            <p>@2020 Drupal API Example. All rights reservec</p>\n        </footer>\n        </>\n    );\n\n}\n\nexport default Footer;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { useAuth } from \"./auth/auth\";\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n  const { authTokens } = useAuth();\n  \n  return(\n    <Route\n      {...rest}\n      render={props =>\n        authTokens ? (\n          <Component {...props} />\n        ) : (\n          <Redirect to=\"/login\" />\n        )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;","import React, { useState} from 'react'\nimport Http from './api/Http';\n\nconst Register = (props) => {\n    const [user, setUser] = useState({\n        name: '',\n        mail: '',\n        pass: ''\n    });\n    const [spinner, setSpinner] = useState(false);\n\n    const InputEvent = (event) => {\n        let name = event.target.name;\n        let value = event.target.value;\n        setUser(\n            (preValue) => {\n               return {\n                  ...preValue,\n                  [name]: value\n               }\n  \n            }\n        );\n    }\n\n    const submitEvent = (event) => {\n        event.preventDefault();\n        setSpinner(true);\n        console.log(user);\n        const {name, pass, mail} = user;\n    \n        async function doRegister() {\n          \n            const data = {\n                _links: {\n                    type: {\n                      href: `http://janari.in/drupal/rest/type/user/user`,\n                    },\n                  },\n                \"name\": [{ \"value\": name }],\n                \"mail\": [{ \"value\": mail }],\n                \"pass\": [{ \"value\": pass }],\n              }\n            const res = await Http.post(`/user/register?_format=json`, data)\n        .then((res) => {\n     \n          console.log(\"RESPONSE RECEIVED: \", res.data);\n          setSpinner(false);\n          props.history.push('/login');\n        //   const basicAuthCredential = window.btoa(name + \":\" + pass);\n        //   localStorage.setItem(\"token\", basicAuthCredential);\n        //   localStorage.setItem(\"csrf\", res.data.csrf_token); \n          // props.history.push('/node/add');\n         })\n        .catch((err) => {\n          console.log(\"AXIOS ERROR: \", err);\n          setSpinner(false);\n        });\n    \n        }\n    \n        doRegister();\n        \n      };\n\n    return (\n        <>\n        <div className=\"my-5\">\n        <h1 className=\"text-center\">Register Page</h1>\n      </div>\n\n      <div className=\"container contact_div\">\n        <div className=\"row\">\n          <div className=\"col-md-6 col-10 max-auto max_auto\">\n            <div className=\"row\">\n              <form onSubmit={submitEvent}>\n                <div className=\"form-group\">\n                  <label >User Name</label>\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"name\"\n                    value={user.name}\n                    onChange={InputEvent}\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter username\"\n                  />\n                  <small id=\"emailHelp\" className=\"form-text text-muted\">\n                    We'll never share your email with anyone else.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label >Email</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    name=\"mail\"\n                    value={user.mail}\n                    onChange={InputEvent}\n                    aria-describedby=\"emailHelp\"\n                    placeholder=\"Enter Email\"\n                  />\n                  <small id=\"emailHelp\" className=\"form-text text-muted\">\n                    We'll never share your email with anyone else.\n                  </small>\n                </div>\n                <div className=\"form-group\">\n                  <label >Password</label>\n                  <input\n                    type=\"password\"\n                    name='pass'\n                    value={user.pass}\n                    onChange={InputEvent}\n                    className=\"form-control\"\n                    id=\"exampleInputPassword1\"\n                    placeholder=\"Password\"\n                  />\n                </div>\n                <button type=\"submit\" className=\"btn btn-primary\">\n                  Submit\n                </button>\n                { (spinner) ? <div className=\"spinner-border\" role=\"status\"><span className=\"sr-only\">Loading...</span></div> : ''\n                  \n                }\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n        </>\n    );\n}\n\nexport default Register;","import React, { useState } from 'react';\nimport {Route, Switch, Redirect} from 'react-router-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport Menu from './Menu';\nimport Home from './Home';\nimport CreateNode from './CreateNode';\nimport Login from './Login'\nimport Logout from './Logout'\nimport ListNodes from './ListNodes';\nimport Footer from './Footer';\nimport PrivateRoute from './PrivateRoute';\nimport { AuthContext } from \"./auth/auth\";\nimport Register from './Register';\n\nconst App = (props) => {\n  const existingTokens = localStorage.getItem(\"token\");\n  const [authTokens, setAuthTokens] = useState(existingTokens);\n  \n  const setTokens = (data) => {\n    localStorage.setItem(\"tokens\", data);\n    setAuthTokens(data);\n  }\n\nreturn (\n  <>\n  <Menu Atoken={authTokens} />\n  <AuthContext.Provider value={{ authTokens, setAuthTokens: setTokens }}>\n  <Switch>\n  <Route exact path='/' component={Home} />\n  <Route exact path='/login' component={Login} />\n  <Route exact path='/logout' component={Logout} />\n  <Route exact path='/register' component={Register} />\n  <PrivateRoute exact path='/node/add' component={CreateNode} />\n  <PrivateRoute exact path='/node/list' component={ListNodes} />\n  <Redirect to=\"/\" />\n  </Switch>\n  </AuthContext.Provider>\n  <Footer />\n  </>\n);\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport {BrowserRouter} from 'react-router-dom';\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <BrowserRouter basename=\"/drupalapi\">\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}